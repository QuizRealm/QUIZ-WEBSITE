<!DOCTYPE html>
<html lang="en">
<head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-ML3F7KLZ');</script>
    
    <script type="module" src="firebase-config.js"></script>
    <script src="game-engine.js"></script> 
    <script src="components.js" defer></script>
<script type="module" src="assets/ux-core.js"></script> 
<link rel="icon" type="image/png" sizes="192x192" href="assets/favicon-192.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Superman Legacy | Superhero Cinema</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Outfit:wght@300;400;500;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = { 
            theme: { 
                extend: { 
                    fontFamily: { 
                        sans: ['Outfit', 'sans-serif'], 
                        arcade: ['Bungee', 'cursive'], 
                        mono: ['Share Tech Mono', 'monospace'] 
                    }, 
                    colors: { 
                        kryptonBlue: '#3b82f6', 
                        kryptonIce: '#cbd5e1',
                        superRed: '#ef4444',
                        superGold: '#fbbf24',
                        bgDark: '#020617'
                    }, 
                    animation: { 
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulseGlow 3s infinite'
                    },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
                        pulseGlow: { '0%, 100%': { opacity: 0.6, boxShadow: '0 0 20px rgba(59,130,246,0.2)' }, '50%': { opacity: 1, boxShadow: '0 0 40px rgba(59,130,246,0.6)' } }
                    }
                } 
            } 
        }
    </script>
    <style>
        body { 
            background-color: #020617; 
            /* Ice Crystal / Space Background */
            background-image: 
                radial-gradient(circle at 50% 0%, #1e3a8a, #020617 80%);
            min-height: 100vh; 
            color: #e2e8f0; 
            overflow-x: hidden;
        }

        /* Glass / Crystal Card */
        .crystal-panel {
            background: rgba(30, 58, 138, 0.3);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(59, 130, 246, 0.4);
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.2);
            position: relative;
            overflow: hidden;
        }

        /* Shimmer Effect */
        .crystal-panel::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 50%; height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.1), transparent);
            animation: shimmer 5s infinite;
            transform: skewX(-25deg);
        }
        @keyframes shimmer {
            0% { left: -100%; }
            20% { left: 200%; }
            100% { left: 200%; }
        }

        .correct-answer { background: rgba(34, 197, 94, 0.2) !important; border-color: #22c55e !important; color: white !important; }
        .wrong-answer { background: rgba(239, 68, 68, 0.2) !important; border-color: #ef4444 !important; color: white !important; }
    </style>
</head>
<body class="flex flex-col antialiased">

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-ML3F7KLZ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <quiz-header></quiz-header>

    <main class="flex-grow w-full max-w-4xl mx-auto px-4 py-8 relative">

        <div id="introScreen" class="min-h-[60vh] flex flex-col justify-center items-center text-center animate-fade-in relative z-10">
            
            <div class="w-32 h-32 mb-6 relative animate-float">
                <div class="absolute inset-0 bg-kryptonBlue/20 blur-xl rounded-full"></div>
                <div class="relative w-full h-full border-2 border-kryptonBlue bg-blue-900/30 flex items-center justify-center transform rotate-45 shadow-[0_0_50px_rgba(59,130,246,0.6)]">
                    <div class="transform -rotate-45">
                        <i class="fas fa-gem text-5xl text-white drop-shadow-lg"></i>
                    </div>
                </div>
            </div>

            <h1 class="font-arcade text-5xl md:text-7xl text-white mb-6 drop-shadow-xl">
                THE LAST SON <br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-kryptonBlue to-superRed">OF KRYPTON</span>
            </h1>

            <p class="text-blue-200 font-mono text-sm tracking-widest uppercase mb-8">
                >> Accessing Archive: Fortress_Memory_Bank.dat <br>
                >> Subject: Kal-El Legacy
            </p>

            <div class="crystal-panel p-6 rounded-xl max-w-lg w-full mb-8 text-left border-l-4 border-superRed">
                <div class="flex justify-between items-start mb-2">
                    <h3 class="text-white font-bold text-lg">Knowledge Test</h3>
                    <span class="text-superGold text-xs font-bold border border-superGold/50 px-2 py-1 rounded">LEGACY MODE</span>
                </div>
                <ul class="space-y-3 text-sm text-slate-300 font-mono mt-4">
                    <li class="flex items-center gap-3">
                        <i class="fas fa-bolt text-superRed"></i> 
                        <span>Earn <strong class="text-white">20 XP</strong> per correct answer</span>
                    </li>
                    <li class="flex items-center gap-3">
                        <i class="fas fa-crown text-superGold"></i> 
                        <span>Badge: <strong class="text-white">Son of Krypton</strong> (Perfect Score)</span>
                    </li>
                </ul>
            </div>

            <button onclick="startQuiz()" class="group relative px-12 py-4 bg-gradient-to-r from-blue-600 to-blue-800 text-white font-bold tracking-widest uppercase rounded shadow-[0_0_30px_rgba(59,130,246,0.5)] hover:scale-105 transition-all">
                Enter The Fortress
            </button>
        </div>

        <div id="quizInterface" class="hidden min-h-[60vh] max-w-2xl mx-auto">
            
            <div class="flex justify-between items-end mb-6 border-b border-blue-500/30 pb-4">
                <div>
                    <span class="text-[10px] text-blue-400 font-mono block mb-1">MEMORY SHARD</span>
                    <span class="text-xl font-bold text-white" id="progressText">01 / 10</span>
                </div>
                <div class="text-right">
                    <span class="text-[10px] text-blue-400 font-mono block mb-1">XP SYNC</span>
                    <span class="text-xl font-bold text-superGold" id="currentSessionXP">0</span>
                </div>
            </div>

            <div class="crystal-panel rounded-2xl p-6 md:p-10 relative z-10">
                <h2 class="text-2xl font-bold text-white mb-8 leading-snug" id="questionText">Loading Data...</h2>
                <div class="space-y-3" id="optionsGrid">
                    </div>
                <div id="factNote" class="mt-6 p-4 bg-blue-950/50 border border-blue-500/30 rounded text-sm text-blue-200 hidden font-mono"></div>
            </div>
        </div>

        <div id="resultsScreen" class="hidden max-w-2xl mx-auto text-center">
            
            <div class="crystal-panel rounded-2xl p-8 md:p-12 border-t-4 border-superRed">
                
                <div class="w-24 h-24 mx-auto bg-gradient-to-br from-blue-600 to-blue-900 rounded-full border-2 border-white flex items-center justify-center mb-6 shadow-xl">
                     <span class="text-4xl text-white font-bold">S</span>
                </div>

                <h2 class="text-3xl font-bold text-white mb-2" id="resultTitle">Calculating...</h2>
                <p class="text-blue-300 font-mono text-xs uppercase tracking-widest mb-6">Simulation Complete</p>

                <div class="grid grid-cols-2 gap-4 max-w-sm mx-auto mb-8">
                    <div class="bg-black/30 p-4 rounded border border-blue-500/30">
                        <span class="text-slate-400 text-xs block">Score</span>
                        <span class="text-2xl font-bold text-white" id="finalScoreDisplay">0/10</span>
                    </div>
                    <div class="bg-black/30 p-4 rounded border border-blue-500/30">
                        <span class="text-slate-400 text-xs block">XP Gained</span>
                        <span class="text-2xl font-bold text-superGold" id="finalXPEarned">+0</span>
                    </div>
                </div>
                
                <div id="badgeAlert" class="hidden mb-8 p-4 bg-yellow-500/10 border border-yellow-500/50 rounded flex items-center justify-center gap-3">
                    <i class="fas fa-medal text-yellow-500 text-xl"></i>
                    <span class="text-yellow-200 font-bold text-sm">BADGE UNLOCKED: Son of Krypton</span>
                </div>

                <div class="flex gap-4 justify-center">
                    <button onclick="location.reload()" class="px-8 py-3 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded font-bold uppercase text-xs tracking-widest transition-all">
                        Retry
                    </button>
                    <a href="index.html" class="px-8 py-3 bg-superRed hover:bg-red-600 text-white rounded font-bold uppercase text-xs tracking-widest shadow-lg transition-all">
                        Return to Hub
                    </a>
                </div>
            </div>
        </div>

    </main>

    

<div class="qr-seo-wrapper">
    <style>
        .qr-seo-wrapper { display: flex; flex-direction: column; gap: 3rem; width: 100%; max-width: 1200px; margin: 4rem auto; padding: 0 1rem; font-family: system-ui, -apple-system, sans-serif; color: #94a3b8; line-height: 1.6; }
        .qr-hub-card { position: relative; background: linear-gradient(145deg, #060b18, #0f172a); border: 1px solid rgba(255, 255, 255, 0.08); border-radius: 24px; overflow: hidden; box-shadow: 0 20px 50px -10px rgba(0, 0, 0, 0.5); padding: 2.5rem; display: flex; flex-direction: column; }
        
        /* THEMES */
        .theme-green { border-left: 4px solid #10b981; } .theme-green h2 span { color: #34d399; } .theme-green .qr-badge { background: rgba(16, 185, 129, 0.1); border-color: rgba(16, 185, 129, 0.2); color: #6ee7b7; } .theme-green a { color: #34d399; }
        .theme-purple { border-left: 4px solid #a855f7; } .theme-purple h2 span { color: #c084fc; } .theme-purple .qr-badge { background: rgba(168, 85, 247, 0.1); border-color: rgba(168, 85, 247, 0.2); color: #d8b4fe; } .theme-purple a { color: #c084fc; }
        .theme-cyan { border-left: 4px solid #06b6d4; } .theme-cyan h2 span { color: #22d3ee; } .theme-cyan .qr-badge { background: rgba(6, 182, 212, 0.1); border-color: rgba(6, 182, 212, 0.2); color: #67e8f9; } .theme-cyan a { color: #22d3ee; }
        .theme-amber { border-left: 4px solid #f59e0b; } .theme-amber h2 span { color: #fbbf24; } .theme-amber .qr-badge { background: rgba(245, 158, 11, 0.1); border-color: rgba(245, 158, 11, 0.2); color: #fcd34d; } .theme-amber a { color: #fbbf24; }

        /* LAYOUT */
        .qr-card-content { position: relative; z-index: 10; display: flex; flex-direction: column; gap: 2rem; height: 100%; }
        @media (min-width: 900px) { .qr-card-content { flex-direction: row; align-items: flex-start; } }
        .qr-main-col { flex: 1; }
        .qr-side-col { width: 100%; max-width: 320px; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; padding: 1.5rem; backdrop-filter: blur(10px); flex-shrink: 0; }
        
        /* ELEMENTS */
        .qr-badge { display: inline-flex; align-items: center; gap: 8px; padding: 4px 12px; border-radius: 99px; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.2em; margin-bottom: 1rem; font-weight: 700; }
        .qr-hub-card h2 { color: #fff; font-size: 1.8rem; margin: 0 0 1rem 0; line-height: 1.2; letter-spacing: -0.02em; }
        .qr-hub-card p { margin-bottom: 1.5rem; font-size: 0.95rem; text-align: justify; }
        .qr-hub-card strong { color: #fff; }
        .qr-hub-card a { font-weight: 600; text-decoration: none; border-bottom: 1px solid transparent; transition: 0.2s; }
        .qr-hub-card a:hover { border-bottom-color: currentColor; }
        
        /* SIDEBAR */
        .qr-sidebar-link { display: flex; align-items: center; gap: 12px; padding: 10px; margin-bottom: 8px; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.05); border-radius: 10px; text-decoration: none !important; }
        .qr-sidebar-link:hover { background: rgba(255, 255, 255, 0.08); }
        .qr-link-text { display: flex; flex-direction: column; }
        .qr-link-head { color: #e2e8f0; font-size: 0.85rem; font-weight: 700; }
        .qr-link-sub { color: #64748b; font-size: 0.7rem; }
        .qr-icon { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; background: rgba(255,255,255,0.05); border-radius: 6px; }

        /* GRIDS */
        .qr-game-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 10px; padding-top: 1.5rem; border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .qr-mini-link { padding: 8px; background: rgba(0,0,0,0.3); border-radius: 8px; border: 1px solid rgba(255,255,255,0.05); text-align: center; font-size: 0.75rem; color: #cbd5e1 !important; }
        .qr-mini-link:hover { background: rgba(255,255,255,0.1); }
        .qr-link-matrix { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 1rem; }
        .qr-matrix-item { font-size: 0.75rem; padding: 4px 10px; border-radius: 4px; background: rgba(251, 191, 36, 0.1); color: #fbbf24 !important; border: 1px solid rgba(251, 191, 36, 0.2); }
        .qr-matrix-item:hover { background: rgba(251, 191, 36, 0.2); }

        @media (max-width: 600px) { .qr-hub-card { padding: 1.5rem; } .qr-side-col { max-width: 100%; } }
    </style>

    <div class="qr-hub-card theme-green">
        <div class="qr-card-content">
            <div class="qr-main-col">
                <div class="qr-badge"><i class="fas fa-microchip"></i> Digital Playground</div>
                <h2>Arcade Suite: <span>Mental Reflex Engines</span></h2>
                <p>
                    Step into the <strong>Quiz Realm Arcade</strong>, a curated collection of micro-games designed to test specific facets of human intelligence. Unlike traditional trivia that relies solely on memory, our arcade challenges your <strong>processing speed</strong> and <strong>pattern recognition</strong>. Games like <a href="fusion-core.html">Logic Core</a> act as a stress-test for your deductive reasoning, while <a href="rapid.html">Rapid Fire</a> measures your raw reaction time down to the millisecond.
                </p>
                <p>
                    We believe in "frictionless play." All modules, from the linguistic puzzles of <strong>Cryptex</strong> to the visual sorting of <strong>Odd One Out</strong>, are browser-native. This means instant access to high-quality brain training without app store downloads. Perfect for keeping your mind sharp during short breaks.
                </p>
                
                <div style="font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em; margin-top: 1rem; color: #fff;">System Modules</div>
                <div class="qr-game-grid">
                    <a href="/word-ladder.html" class="qr-mini-link">Word Ladder</a>
                    <a href="/tango-logic.html" class="qr-mini-link">Tango Logic</a>
                    <a href="/spelling.html" class="qr-mini-link">Spelling Bee</a>
                    <a href="/hangman.html" class="qr-mini-link">Hangman</a>
                    <a href="/two-truths-trap.html" class="qr-mini-link">Truth Trap</a>
                    <a href="/mini-crossword.html" class="qr-mini-link">Crossword</a>
                </div>
            </div>
            <div class="qr-side-col">
                <div style="margin-bottom:1rem; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.1em;">Start Session</div>
                <a href="/arcade.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-play text-green-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Play Now</span><span class="qr-link-sub">Instant Access</span></div>
                </a>
                <a href="/daily.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-clock text-green-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Daily Run</span><span class="qr-link-sub">24h Refresh</span></div>
                </a>
            </div>
        </div>
    </div>

    <div class="qr-hub-card theme-purple">
        <div class="qr-card-content">
            <div class="qr-main-col">
                <div class="qr-badge"><i class="fas fa-globe"></i> Fandom Encyclopedia</div>
                <h2>The Vaults: <span>Mastering The Canon</span></h2>
                <p>
                    True fans know that the devil is in the details. The <strong>Quiz Realm Vaults</strong> are specialized data hubs dedicated to the most expansive fictional universes in media history. Rather than asking generic questions, we dive into the <strong>Canon</strong>. Do you know the exact chemical composition of Kryptonite? Can you trace the lineage of the Targaryens or the Skywalkers without a wiki?
                </p>
                <p>
                    Our "Hub" system organizes trivia by franchise, allowing for a focused experience. When you enter the <a href="marvel.html">Marvel Hub</a> or the <a href="dc.html">DC Archive</a>, you are entering a space where accuracy matters. Prove your status as a "Lore Master" by completing our hardest difficulty tiers, designed to stump even the most dedicated subreddit moderators.
                </p>
            </div>
            <div class="qr-side-col">
                <div style="margin-bottom:1rem; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.1em;">Choose Franchise</div>
                <a href="/encyclopedia/marvel.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-bolt text-purple-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">MCU & Comics</span><span class="qr-link-sub">Heroes & Villains</span></div>
                </a>
                <a href="/rickandmortyhub.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-atom text-purple-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Sci-Fi Comedy</span><span class="qr-link-sub">Rick & Morty</span></div>
                </a>
                <a href="/christmas-hub.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-snowflake text-purple-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Holiday Havoc</span><span class="qr-link-sub">Seasonal Quiz</span></div>
                </a>
            </div>
        </div>
    </div>

    <div class="qr-hub-card theme-cyan">
        <div class="qr-card-content">
            <div class="qr-main-col">
                <div class="qr-badge"><i class="fas fa-chart-line"></i> Gamified Learning</div>
                <h2>Progression: <span>Level Up Your Mind</span></h2>
                <p>
                    At Quiz Realm, we believe that learning should feel like an RPG. That is why every interaction on our site feeds into your <strong>Global Player Profile</strong>. Correct answers award <strong>Coins</strong> and <strong>XP</strong>, fueling a persistent leveling system that tracks your growth over time. Watch your rank evolve from a novice "Drifter" to a legendary "Cosmic Entity" as you master new topics.
                </p>
                <p>
                    Beyond the stats, explore your own psychology with our <strong>Archetype Engine</strong>. Our "Personality Match" quizzes don't just assign you a character; they analyze your decision-making style—Chaotic Good vs. Lawful Neutral—to generate a comprehensive report on your fictional identity.
                </p>
            </div>
            <div class="qr-side-col">
                <div style="margin-bottom:1rem; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.1em;">Player Stats</div>
                <a href="/profile.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-id-card text-cyan-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Dashboard</span><span class="qr-link-sub">View Progress</span></div>
                </a>
                <a href="/achievements.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-medal text-cyan-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Badges</span><span class="qr-link-sub">Unlockables</span></div>
                </a>
            </div>
        </div>
    </div>

    <div class="qr-hub-card theme-amber">
        <div class="qr-card-content">
            <div class="qr-main-col">
                <div class="qr-badge"><i class="fas fa-search"></i> Topic Explorer</div>
                <h2>Curated Collections: <span>The Knowledge Matrix</span></h2>
                <p>
                    The world is too big to study all at once. The <strong>Quiz Realm Topic Explorer</strong> allows you to filter our massive database into manageable chunks. Whether you are prepping for a pub trivia night or studying for a geography exam, our tagging system helps you find the exact dataset you need.
                </p>
                <p>
                    From the "Hard Sciences" of Physics and Chemistry to the "Liberal Arts" of Literature and Music Theory, our categories are updated weekly. Use the matrix below to bypass the homepage and launch directly into a focused learning session.
                </p>

                <div style="font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em; margin-top: 1.5rem; color: #fff;">Quick Launch</div>
                <div class="qr-link-matrix">
                    <a href="/categories.html" class="qr-matrix-item">STEM</a>
                    <a href="/categories.html" class="qr-matrix-item">Modern History</a>
                    <a href="/categories.html" class="qr-matrix-item">Ancient Civs</a>
                    <a href="/categories.html" class="qr-matrix-item">Pop Culture</a>
                    <a href="/categories.html" class="qr-matrix-item">Global Capitals</a>
                    <a href="/categories.html" class="qr-matrix-item">Flags of the World</a>
                    <a href="/categories.html" class="qr-matrix-item">Classic Rock</a>
                    <a href="/categories.html" class="qr-matrix-item">Biology</a>
                    <a href="/categories.html" class="qr-matrix-item">Art & Design</a>
                    <a href="/categories.html" class="qr-matrix-item">NBA & NFL</a>
                    <a href="/categories.html" class="qr-matrix-item">Space Exploration</a>
                    <a href="/categories.html" class="qr-matrix-item">Language Arts</a>
                </div>
            </div>
            
            <div class="qr-side-col">
                <div style="margin-bottom:1rem; font-size:0.7rem; text-transform:uppercase; letter-spacing:0.1em;">Support</div>
                <a href="/FAQ.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-question text-amber-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Help Center</span><span class="qr-link-sub">FAQs</span></div>
                </a>
                <a href="/contact.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-bug text-amber-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Report Issue</span><span class="qr-link-sub">Feedback</span></div>
                </a>
                <a href="/Terms.html" class="qr-sidebar-link">
                    <div class="qr-icon"><i class="fas fa-file-contract text-amber-400"></i></div>
                    <div class="qr-link-text"><span class="qr-link-head">Terms</span><span class="qr-link-sub">Usage Policy</span></div>
                </a>
            </div>
        </div>
    </div>

</div>


  <quiz-footer></quiz-footer>

    <script>
        // 1. DATA
        const QUESTIONS = [
            { 
                q: "In 'Man of Steel' (2013), what is the Kryptonian symbol for 'Hope'?", 
                options: ["The Letter S", "The House of El Glyph", "The Sun", "The Shield"], 
                correct: 1, 
                note: "While it looks like an 'S', Jor-El explains it is the symbol of his family's house, representing hope."
            },
            { 
                q: "Who played Superman's father, Jor-El, in the 1978 classic film?", 
                options: ["Gene Hackman", "Marlon Brando", "Terence Stamp", "Robert Redford"], 
                correct: 1, 
                note: "Marlon Brando was famously paid a record salary for his short screen time."
            },
            { 
                q: "What is the name of the substance that is Superman's primary weakness?", 
                options: ["Adamantium", "Vibranium", "Kryptonite", "Promethium"], 
                correct: 2, 
                note: "Radioactive fragments of his home planet, usually green, weaken him instantly."
            },
            { 
                q: "In 'Batman v Superman', what monster is created from General Zod's body?", 
                options: ["Darkseid", "Doomsday", "Bizarro", "Brainiac"], 
                correct: 1, 
                note: "Lex Luthor uses Kryptonian technology to mutate Zod's corpse into Doomsday."
            },
            { 
                q: "Who is directing the upcoming 2025 reboot 'Superman: Legacy'?", 
                options: ["Zack Snyder", "J.J. Abrams", "James Gunn", "Christopher Nolan"], 
                correct: 2, 
                note: "James Gunn wrote the script and is directing the film to kick off the new DCU."
            },
            { 
                q: "What is the name of Superman's dog in the comics and animated movies?", 
                options: ["Ace", "Krypto", "Comet", "Stripe"], 
                correct: 1, 
                note: "Krypto the Superdog has powers similar to Superman under a yellow sun."
            },
            { 
                q: "Which actor played Superman in the TV series 'Smallville'?", 
                options: ["Brandon Routh", "Tom Welling", "Tyler Hoechlin", "Henry Cavill"], 
                correct: 1, 
                note: "Tom Welling played Clark Kent for 10 seasons, famously adhering to a 'No Tights, No Flights' rule."
            },
            { 
                q: "What is the name of the dimension where Kryptonian criminals are imprisoned?", 
                options: ["The Negative Zone", "The Phantom Zone", "The Speed Force", "Apokolips"], 
                correct: 1, 
                note: "General Zod and his followers were trapped in the Phantom Zone before Krypton exploded."
            },
            { 
                q: "Lois Lane works for which newspaper?", 
                options: ["The Daily Bugle", "The Gotham Gazette", "The Daily Planet", "The Central City Citizen"], 
                correct: 2, 
                note: "The Daily Planet is the iconic Metropolis newspaper, distinguishable by the giant globe on its roof."
            },
            { 
                q: "What color is the sun of Krypton?", 
                options: ["Yellow", "Red", "Blue", "White"], 
                correct: 1, 
                note: "Krypton orbited a red sun (Rao), which gave them no powers. Earth's yellow sun charges their cells."
            }
        ];

        // 2. STATE
        let currentIdx = 0;
        let sessionScore = 0;
        let sessionXP = 0;
        let isLocked = false;

        function startQuiz() {
            document.getElementById('introScreen').classList.add('hidden');
            document.getElementById('quizInterface').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            isLocked = false;
            const data = QUESTIONS[currentIdx];
            
            document.getElementById('questionText').textContent = data.q;
            document.getElementById('progressText').innerText = `${currentIdx + 1} / ${QUESTIONS.length}`;
            document.getElementById('factNote').classList.add('hidden');
            
            const grid = document.getElementById('optionsGrid');
            grid.innerHTML = '';

            data.options.forEach((optText, index) => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-4 rounded-lg border border-white/10 bg-black/20 hover:bg-kryptonBlue/20 hover:border-kryptonBlue transition-all font-mono text-slate-300 text-sm md:text-base group flex justify-between items-center";
                btn.innerHTML = `
                    <span><span class="text-kryptonBlue opacity-50 mr-3">0${index + 1}</span> ${optText}</span>
                    <i class="fas fa-chevron-right opacity-0 group-hover:opacity-100 transition-opacity text-kryptonBlue"></i>
                `;
                btn.onclick = () => handleAnswer(index, btn);
                grid.appendChild(btn);
            });
        }

        function handleAnswer(selectedIndex, btn) {
            if(isLocked) return;
            isLocked = true;

            const data = QUESTIONS[currentIdx];
            const isCorrect = (selectedIndex === data.correct);
            const allBtns = document.querySelectorAll('#optionsGrid button');
            const noteEl = document.getElementById('factNote');

            if(isCorrect) {
                // Game Engine XP
                if(window.GameEngine) window.GameEngine.addXP(20);
                
                sessionScore++;
                sessionXP += 20;
                document.getElementById('currentSessionXP').textContent = `+${sessionXP}`;
                
                btn.classList.remove('bg-black/20', 'border-white/10');
                btn.classList.add('correct-answer');
                btn.innerHTML = `<span><i class="fas fa-check mr-3"></i> ${data.options[selectedIndex]}</span>`;
            } else {
                btn.classList.remove('bg-black/20', 'border-white/10');
                btn.classList.add('wrong-answer');
                btn.innerHTML = `<span><i class="fas fa-times mr-3"></i> ${data.options[selectedIndex]}</span>`;
                allBtns[data.correct].classList.add('correct-answer', 'opacity-50');
            }

            // Show Note
            noteEl.innerHTML = `<strong class="text-white">ARCHIVE DATA:</strong> ${data.note}`;
            noteEl.classList.remove('hidden');

            setTimeout(() => {
                currentIdx++;
                if(currentIdx < QUESTIONS.length) {
                    loadQuestion();
                } else {
                    showResults();
                }
            }, 2500); // Longer delay to read the note
        }

        function showResults() {
            document.getElementById('quizInterface').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');

            const scoreDisplay = document.getElementById('finalScoreDisplay');
            const xpDisplay = document.getElementById('finalXPEarned');
            const title = document.getElementById('resultTitle');

            scoreDisplay.textContent = `${sessionScore}/10`;
            xpDisplay.textContent = `+${sessionXP}`;

            if(sessionScore === 10) {
                title.textContent = "Rank: KRYPTONIAN";
                title.classList.add('text-superGold');
                if(window.GameEngine) window.GameEngine.unlockAchievement("Son of Krypton");
                document.getElementById('badgeAlert').classList.remove('hidden');
            } else if (sessionScore >= 7) {
                title.textContent = "Rank: JUSTICE LEAGUER";
                title.classList.add('text-kryptonBlue');
            } else {
                title.textContent = "Rank: CITIZEN";
                title.classList.add('text-slate-400');
            }
            checkGameAchievements(finalScore, currentCategory, timeTaken, 10);
        }



        // === ACHIEVEMENT CHECKER ===
// Call this function when the Game Over screen appears
// usage: checkGameAchievements(100, 'science', 45, 10); 
function checkGameAchievements(scorePercent, category, timeInSeconds, totalQuestions) {
    
    if (!window.GameEngine) return;

    // 1. GENERAL
    window.GameEngine.unlockAchievement("new_recruit"); // First game
    if (scorePercent === 100) window.GameEngine.unlockAchievement("perfect_score");
    if (scorePercent >= 50)   window.GameEngine.addXP(scorePercent * 2); // Give XP based on score

    // 2. SPEED
    if (timeInSeconds < 60) window.GameEngine.unlockAchievement("speed_runner");
    if (timeInSeconds < 5)  window.GameEngine.unlockAchievement("quick_thinker");

    // 3. CATEGORY SPECIFIC
    // Normalize category to lowercase to match your IDs
    const cat = category.toLowerCase();

    if (cat === 'science') {
        window.GameEngine.unlockAchievement("lab_coat");
        if (scorePercent === 100) window.GameEngine.unlockAchievement("science_whiz");
    }
    
    if (cat === 'history') {
        window.GameEngine.unlockAchievement("time_traveler");
        if (scorePercent === 100) window.GameEngine.unlockAchievement("history_buff");
    }

    if (cat === 'movies') {
        window.GameEngine.unlockAchievement("movie_buff");
        if (scorePercent === 100) window.GameEngine.unlockAchievement("cinephile");
    }

    if (cat === 'tech') {
        window.GameEngine.unlockAchievement("tech_guru");
    }

    // 4. HARDCORE / SPECIFIC QUIZZES
    // You can check specific IDs if your quiz has them
    const currentQuizId = new URLSearchParams(window.location.search).get('id');
    
    if (currentQuizId === 'superman_legacy' && scorePercent === 100) {
        window.GameEngine.unlockAchievement("superman_legacy");
    }
    if (currentQuizId === 'impossible_batman' && scorePercent === 100) {
        window.GameEngine.unlockAchievement("gotham_knight");
    }
}
    </script>
</body>
</html>